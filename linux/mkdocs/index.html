<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="My personal digital garden"><meta name=author content=Lyz><link href=https://memo.nullniverse.xyz/linux/mkdocs/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.1.3"><title>Mkdocs - My Memo</title><link rel=stylesheet href=../../assets/stylesheets/main.c4a75a56.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=../../stylesheets/links.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#installation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> For updates subscribe to the <a href=https://memo.nullniverse.xyz/newsletter/0_newsletter_index/ ><strong>RSS feed</strong></a> <img src=/memo/img/orange_logo.png height=15 width=15> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="My Memo" class="md-header__button md-logo" aria-label="My Memo" data-md-component=logo> <img src=../../img/logo.bmp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> My Memo </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Mkdocs </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nullniverse/memo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> nullniverse/memo </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="My Memo" class="md-nav__button md-logo" aria-label="My Memo" data-md-component=logo> <img src=../../img/logo.bmp alt=logo> </a> My Memo </label> <div class=md-nav__source> <a href=https://github.com/nullniverse/memo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> nullniverse/memo </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../contact/ class=md-nav__link> Contact </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/devops/ >DevOps</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> Infrastructure as Code <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Infrastructure as Code </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../gitea/ class=md-nav__link> Gitea </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_2> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/helm/helm/ >Helm</a> <label for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> Helm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/helm/helm_installation/ class=md-nav__link> Helm Installation </a> </li> <li class=md-nav__item> <a href=../../devops/helm/helm_commands/ class=md-nav__link> Helm Commands </a> </li> <li class=md-nav__item> <a href=../../devops/helm/helm_secrets/ class=md-nav__link> Helm Secrets </a> </li> <li class=md-nav__item> <a href=../../helm_git/ class=md-nav__link> Helm Git </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../devops/helmfile/ class=md-nav__link> Helmfile </a> </li> <li class=md-nav__item> <a href=../../terraform/ class=md-nav__link> Terraform </a> </li> <li class=md-nav__item> <a href=../../ansible_snippets/ class=md-nav__link> Ansible Snippets </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_6> <div class="md-nav__link md-nav__link--index "> <a href=../../dotfiles/ >Dotfiles</a> <label for=__nav_3_1_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_6> <span class="md-nav__icon md-icon"></span> Dotfiles </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../chezmoi/ class=md-nav__link> Chezmoi </a> </li> <li class=md-nav__item> <a href=../../dotdrop/ class=md-nav__link> Dotdrop </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> Infrastructure Solutions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Infrastructure Solutions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/kubernetes/kubernetes/ >Kubernetes</a> <label for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_architecture/ class=md-nav__link> Architecture </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_2> <label class=md-nav__link for=__nav_3_2_1_2 id=__nav_3_2_1_2_label tabindex=0> Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_2> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_namespaces/ class=md-nav__link> Namespaces </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_pods/ class=md-nav__link> Pods </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_replicasets/ class=md-nav__link> ReplicaSets </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_deployments/ class=md-nav__link> Deployments </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_hpa/ class=md-nav__link> Horizontal Pod Autoscaling </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_volumes/ class=md-nav__link> Volumes </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_services/ class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_labels/ class=md-nav__link> Labels </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_annotations/ class=md-nav__link> Annotations </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_ingress/ class=md-nav__link> Ingress </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_operators/ class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_jobs/ class=md-nav__link> Jobs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_3> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/kubectl/kubectl/ >Kubectl</a> <label for=__nav_3_2_1_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_3> <span class="md-nav__icon md-icon"></span> Kubectl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/kubectl/kubectl_installation/ class=md-nav__link> Kubectl Installation </a> </li> <li class=md-nav__item> <a href=../../devops/kubectl/kubectl_commands/ class=md-nav__link> Kubectl Commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_4> <label class=md-nav__link for=__nav_3_2_1_4 id=__nav_3_2_1_4_label tabindex=0> Additional Components <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_4> <span class="md-nav__icon md-icon"></span> Additional Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_metric_server/ class=md-nav__link> Metrics Server </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_ingress_controller/ class=md-nav__link> Ingress Controller </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_external_dns/ class=md-nav__link> External DNS </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_cluster_autoscaler/ class=md-nav__link> Cluster Autoscaler </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_dashboard/ class=md-nav__link> Dashboard </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_storage_driver/ class=md-nav__link> Storage Driver </a> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_vertical_pod_autoscaler/ class=md-nav__link> Vertical Pod Autoscaler </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../devops/kubernetes/kubernetes_networking/ class=md-nav__link> Networking </a> </li> <li class=md-nav__item> <a href=../../kubernetes_debugging/ class=md-nav__link> Debugging </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_7> <label class=md-nav__link for=__nav_3_2_1_7 id=__nav_3_2_1_7_label tabindex=0> Backups <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_7> <span class="md-nav__icon md-icon"></span> Backups </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../velero/ class=md-nav__link> Velero </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_8> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/kubernetes/kubernetes_tools/ >Tools</a> <label for=__nav_3_2_1_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_8> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../krew/ class=md-nav__link> Krew </a> </li> <li class=md-nav__item> <a href=../../ksniff/ class=md-nav__link> Ksniff </a> </li> <li class=md-nav__item> <a href=../../mizu/ class=md-nav__link> Mizu </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/aws/aws/ >AWS</a> <label for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../aws_snippets/ class=md-nav__link> AWS Snippets </a> </li> <li class=md-nav__item> <a href=../../aws_savings_plan/ class=md-nav__link> AWS Savings plan </a> </li> <li class=md-nav__item> <a href=../../devops/aws/security_groups/ class=md-nav__link> Security groups workflow </a> </li> <li class=md-nav__item> <a href=../../devops/aws/eks/ class=md-nav__link> EKS </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2_5> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/aws/iam/iam/ >IAM</a> <label for=__nav_3_2_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2_5> <span class="md-nav__icon md-icon"></span> IAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/aws/iam/iam_commands/ class=md-nav__link> IAM Commands </a> </li> <li class=md-nav__item> <a href=../../devops/aws/iam/iam_debug/ class=md-nav__link> IAM Debugging </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../devops/aws/s3/ class=md-nav__link> S3 </a> </li> <li class=md-nav__item> <a href=../../aws_waf/ class=md-nav__link> WAF </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/ci/ >Continuous Integration</a> <label for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Continuous Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../drone/ class=md-nav__link> Drone </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2 id=__nav_3_3_2_label tabindex=0> Linters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Linters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/alex/ class=md-nav__link> Alex </a> </li> <li class=md-nav__item> <a href=../../flakeheaven/ class=md-nav__link> Flakeheaven </a> </li> <li class=md-nav__item> <a href=../../devops/flake8/ class=md-nav__link> Flake8 </a> </li> <li class=md-nav__item> <a href=../../devops/markdownlint/ class=md-nav__link> Markdownlint </a> </li> <li class=md-nav__item> <a href=../../devops/proselint/ class=md-nav__link> Proselint </a> </li> <li class=md-nav__item> <a href=../../devops/yamllint/ class=md-nav__link> Yamllint </a> </li> <li class=md-nav__item> <a href=../../devops/write_good/ class=md-nav__link> Write Good </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3 id=__nav_3_3_3_label tabindex=0> Formatters/Fixers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> Formatters/Fixers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/black/ class=md-nav__link> Black </a> </li> <li class=md-nav__item> <a href=../../yamlfix/ class=md-nav__link> Yamlfix </a> </li> <li class=md-nav__item> <a href=../../pyment/ class=md-nav__link> Pyment </a> </li> <li class=md-nav__item> <a href=../../mdformat/ class=md-nav__link> mdformat </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4 id=__nav_3_3_4_label tabindex=0> Type Checkers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> Type Checkers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/mypy/ class=md-nav__link> Mypy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5 id=__nav_3_3_5_label tabindex=0> Security Checkers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> Security Checkers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/safety/ class=md-nav__link> Safety </a> </li> <li class=md-nav__item> <a href=../../devops/bandit/ class=md-nav__link> Bandit </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6 id=__nav_3_3_6_label tabindex=0> Dependency managers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> Dependency managers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/pip_tools/ class=md-nav__link> Pip-tools </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> Automating Processes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Automating Processes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cookiecutter/ class=md-nav__link> cookiecutter </a> </li> <li class=md-nav__item> <a href=../cruft/ class=md-nav__link> cruft </a> </li> <li class=md-nav__item> <a href=../../renovate/ class=md-nav__link> renovate </a> </li> <li class=md-nav__item> <a href=../../letsencrypt/ class=md-nav__link> letsencrypt </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <div class="md-nav__link md-nav__link--index "> <a href=../../storage/ >Storage</a> <label for=__nav_3_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_1> <div class="md-nav__link md-nav__link--index "> <a href=../zfs/ >OpenZFS</a> <label for=__nav_3_5_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_1> <span class="md-nav__icon md-icon"></span> OpenZFS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../zfs_storage_planning/ class=md-nav__link> OpenZFS storage planning </a> </li> <li class=md-nav__item> <a href=../../sanoid/ class=md-nav__link> Sanoid </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../monitoring_comparison/ class=md-nav__link> Monitoring Comparison </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/prometheus/prometheus/ >Prometheus</a> <label for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> Prometheus </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/prometheus/prometheus_architecture/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/prometheus_operator/ class=md-nav__link> Prometheus Operator </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/prometheus_installation/ class=md-nav__link> Prometheus Install </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/alertmanager/ class=md-nav__link> AlertManager </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/blackbox_exporter/ class=md-nav__link> Blackbox Exporter </a> </li> <li class=md-nav__item> <a href=../../elasticsearch_exporter/ class=md-nav__link> Elasticsearch Exporter </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/node_exporter/ class=md-nav__link> Node Exporter </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/instance_sizing_analysis/ class=md-nav__link> Instance sizing analysis </a> </li> <li class=md-nav__item> <a href=../../devops/prometheus/prometheus_troubleshooting/ class=md-nav__link> Prometheus Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> Authentication <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Authentication </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../authentik/ class=md-nav__link> Authentik </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> Self-hosted services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Self-hosted services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ombi/ class=md-nav__link> Ombi </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <div class="md-nav__link md-nav__link--index "> <a href=../../devops/api_management/ >API Management</a> <label for=__nav_3_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> API Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/kong/kong/ class=md-nav__link> Kong </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../newsletter/0_newsletter_index/ class=md-nav__link> Newsletters </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation class=md-nav__link> Installation </a> <nav class=md-nav aria-label=Installation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#material-theme-customizations class=md-nav__link> Material theme customizations </a> <nav class=md-nav aria-label="Material theme customizations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#color-palette-toggle class=md-nav__link> Color palette toggle </a> </li> <li class=md-nav__item> <a href=#back-to-top-button class=md-nav__link> Back to top button </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#add-a-github-pages-hook class=md-nav__link> Add a github pages hook. </a> </li> <li class=md-nav__item> <a href=#create-mermaidjs-diagrams class=md-nav__link> Create MermaidJS diagrams </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plugin-development class=md-nav__link> Plugin development </a> <nav class=md-nav aria-label="Plugin development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#interesting-objects class=md-nav__link> Interesting objects </a> <nav class=md-nav aria-label="Interesting objects"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#files class=md-nav__link> Files </a> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=#navigation class=md-nav__link> Navigation </a> </li> <li class=md-nav__item> <a href=#page class=md-nav__link> Page </a> </li> <li class=md-nav__item> <a href=#section class=md-nav__link> Section </a> </li> <li class=md-nav__item> <a href=#sectionpage class=md-nav__link> SectionPage </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> Events </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#on_config class=md-nav__link> on_config </a> </li> <li class=md-nav__item> <a href=#on_files class=md-nav__link> on_files </a> </li> <li class=md-nav__item> <a href=#on_nav class=md-nav__link> on_nav </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-new-files class=md-nav__link> Adding new files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> Testing </a> </li> <li class=md-nav__item> <a href=#issues class=md-nav__link> Issues </a> </li> <li class=md-nav__item> <a href=#references class=md-nav__link> References </a> <nav class=md-nav aria-label=References> <ul class=md-nav__list> <li class=md-nav__item> <a href=#plugin-development_1 class=md-nav__link> Plugin development </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Mkdocs</h1> <p><a href=https://www.mkdocs.org/ >MkDocs</a> is a fast, simple and downright gorgeous static site generator that's geared towards building project documentation. Documentation source files are written in Markdown, and configured with a single YAML configuration file.</p> <p>Note: I've automated the creation of the mkdocs site in <a href=https://github.com/lyz-code/cookiecutter-python-project>this cookiecutter template</a>.</p> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">⚑</a></h2> <ul> <li>Install the basic packages.</li> </ul> <div class=highlight><pre><span></span><code>pip<span class=w> </span>install<span class=w> </span><span class=se>\</span>
<span class=w>    </span>mkdocs<span class=w> </span><span class=se>\</span>
<span class=w>    </span>mkdocs-material<span class=w> </span><span class=se>\</span>
<span class=w>    </span>mkdocs-autolink-plugin<span class=w> </span><span class=se>\</span>
<span class=w>    </span>mkdocs-minify-plugin<span class=w> </span><span class=se>\</span>
<span class=w>    </span>pymdown-extensions<span class=w> </span><span class=se>\</span>
<span class=w>    </span>mkdocs-git-revision-date-localized-plugin
</code></pre></div> <ul> <li>Create the <code>docs</code> repository.</li> </ul> <div class=highlight><pre><span></span><code>mkdocs<span class=w> </span>new<span class=w> </span>docs
</code></pre></div> <ul> <li>Although there are <a href=https://www.mkdocs.org/user-guide/styling-your-docs/ >several themes</a>, I usually use the <a href=https://squidfunk.github.io/mkdocs-material>material</a> one. I won't dive into the different options, just show a working template of the <code>mkdocs.yaml</code> file.</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>site_name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=nt>site_name</span><span class=p>:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}</span>
<span class=nt>site_author</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=nt>your_name</span><span class=p>:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}</span>
<span class=nt>site_url</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=nt>site_url</span><span class=p>:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}</span>
<span class=nt>nav</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Introduction</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">index.md</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Basic Usage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">basic_usage.md</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Configuration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">configuration.md</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Update</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">update.md</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Advanced Usage</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Projects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">projects.md</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Tags</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tags.md</span>

<span class=nt>plugins</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">search</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">autolinks</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>git-revision-date-localized</span><span class=p>:</span>
<span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">timeago</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>minify</span><span class=p>:</span>
<span class=w>      </span><span class=nt>minify_html</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class=nt>markdown_extensions</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">admonition</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">meta</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>toc</span><span class=p>:</span>
<span class=w>      </span><span class=nt>permalink</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>      </span><span class=nt>baselevel</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.arithmatex</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>pymdownx.betterem</span><span class=p>:</span>
<span class=w>      </span><span class=nt>smart_enable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.caret</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.critic</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.details</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>pymdownx.emoji</span><span class=p>:</span>
<span class=w>      </span><span class=nt>emoji_generator</span><span class=p>:</span><span class=w> </span><span class=kt>!%21python/name:pymdownx.emoji.to_svg</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.inlinehilite</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.magiclink</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.mark</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.smartsymbols</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.superfences</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>pymdownx.tasklist</span><span class=p>:</span>
<span class=w>      </span><span class=nt>custom_checkbox</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pymdownx.tilde</span>

<span class=nt>theme</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">material</span>
<span class=w>  </span><span class=nt>custom_dir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">theme</span>
<span class=w>  </span><span class=nt>logo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">images/logo.png</span>
<span class=w>  </span><span class=nt>palette</span><span class=p>:</span>
<span class=w>    </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">blue grey</span>
<span class=w>    </span><span class=nt>accent</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">light blue</span>

<span class=nt>extra_css</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stylesheets/extra.css</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stylesheets/links.css</span>

<span class=nt>repo_name</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=nt>repository_name</span><span class=p>:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}</span><span class=w> </span><span class=c1># for example: &#39;lyz-code/pydo&#39;</span>
<span class=nt>repo_url</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=nt>repository_url</span><span class=p>:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}:</span><span class=w> </span><span class=nv>null</span><span class="p p-Indicator">}</span><span class=w> </span><span class=c1># for example: &#39;https://github.com/lyz-code/pydo&#39;</span>
</code></pre></div> <ul> <li> <p><a href=https://squidfunk.github.io/mkdocs-material/getting-started/#logo>Configure your logo</a> by saving it into <code>docs/images/logo.png</code>.</p> </li> <li> <p>I like to show a small image above each link so you know where is it pointing to. To do so add the content of <a href=https://github.com/lyz-code/pydo/tree/master/docs/theme>this directory</a> to <code>theme</code>. and <a href=https://github.com/lyz-code/pydo/tree/master/docs/docs/stylesheets>these</a> files under <code>docs/stylesheets</code>.</p> </li> <li> <p>Initialize the git repository and create the first commit.</p> </li> <li> <p>Start the server to see everything is alright.</p> </li> </ul> <div class=highlight><pre><span></span><code>mkdocs<span class=w> </span>serve
</code></pre></div> <h3 id=material-theme-customizations>Material theme customizations<a class=headerlink href=#material-theme-customizations title="Permanent link">⚑</a></h3> <h4 id=color-palette-toggle><a href=https://squidfunk.github.io/mkdocs-material/setup/changing-the-colors/#color-palette-toggle>Color palette toggle</a><a class=headerlink href=#color-palette-toggle title="Permanent link">⚑</a></h4> <p>Since 7.1.0, you can have a light-dark mode on the site using a toggle in the upper bar.</p> <p>To enable it add to your <code>mkdocs.yml</code>:</p> <div class=highlight><pre><span></span><code><span class=nt>theme</span><span class=p>:</span>
<span class=w>  </span><span class=nt>palette</span><span class=p>:</span>

<span class=w>    </span><span class=c1># Light mode</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>media</span><span class=p>:</span><span class=w> </span><span class=s>&#39;(prefers-color-scheme:</span><span class=nv> </span><span class=s>light)&#39;</span>
<span class=w>      </span><span class=nt>scheme</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class=w>      </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">blue grey</span>
<span class=w>      </span><span class=nt>accent</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">light blue</span>
<span class=w>      </span><span class=nt>toggle</span><span class=p>:</span>
<span class=w>        </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">material/toggle-switch-off-outline</span>
<span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Switch to dark mode</span>

<span class=w>    </span><span class=c1># Dark mode</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>media</span><span class=p>:</span><span class=w> </span><span class=s>&#39;(prefers-color-scheme:</span><span class=nv> </span><span class=s>dark)&#39;</span>
<span class=w>      </span><span class=nt>scheme</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">slate</span>
<span class=w>      </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">blue grey</span>
<span class=w>      </span><span class=nt>accent</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">light blue</span>
<span class=w>      </span><span class=nt>toggle</span><span class=p>:</span>
<span class=w>        </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">material/toggle-switch</span>
<span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Switch to light mode</span>
</code></pre></div> <p>Changing your desired colors for each mode</p> <h4 id=back-to-top-button><a href=https://squidfunk.github.io/mkdocs-material/setup/setting-up-navigation/#back-to-top-button>Back to top button</a><a class=headerlink href=#back-to-top-button title="Permanent link">⚑</a></h4> <p>Since 7.1.0, a back-to-top button can be shown when the user, after scrolling down, starts to scroll up again. It's rendered in the lower right corner of the viewport. Add the following lines to mkdocs.yml:</p> <div class=highlight><pre><span></span><code><span class=nt>theme</span><span class=p>:</span>
<span class=w>  </span><span class=nt>features</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">navigation.top</span>
</code></pre></div> <h3 id=add-a-github-pages-hook>Add a github pages hook.<a class=headerlink href=#add-a-github-pages-hook title="Permanent link">⚑</a></h3> <ul> <li>Save your <code>requirements.txt</code>.</li> </ul> <div class=highlight><pre><span></span><code>pip<span class=w> </span>freeze<span class=w> </span>&gt;<span class=w> </span>requirements.txt
</code></pre></div> <ul> <li>Create the <code>.github/workflows/gh-pages.yml</code> file with the following contents.</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Github pages</span>

<span class=nt>on</span><span class=p>:</span>
<span class=w>  </span><span class=nt>push</span><span class=p>:</span>
<span class=w>    </span><span class=nt>branches</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">master</span>

<span class=nt>jobs</span><span class=p>:</span>
<span class=w>  </span><span class=nt>deploy</span><span class=p>:</span>
<span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-18.04</span>
<span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=c1># Number of commits to fetch. 0 indicates all history.</span>
<span class=w>          </span><span class=c1># Default: 1</span>
<span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Setup Python</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v1</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s>&#39;3.7&#39;</span>
<span class=w>          </span><span class=nt>architecture</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">x64</span>

<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Cache dependencies</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/cache@v1</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">~/.cache/pip</span>
<span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ runner.os }}-pip-${{ hashFiles(&#39;**/requirements.txt&#39;) }}</span>
<span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>            </span><span class=no>${{ runner.os }}-pip-</span>

<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>          </span><span class=no>python3 -m pip install --upgrade pip</span>
<span class=w>          </span><span class=no>python3 -m pip install -r ./requirements.txt</span>

<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>          </span><span class=no>cd docs</span>
<span class=w>          </span><span class=no>mkdocs build</span>

<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deploy</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peaceiris/actions-gh-pages@v3</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.ACTIONS_DEPLOY_KEY }}</span>
<span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./docs/site</span>
</code></pre></div> <ul> <li> <p>Create an <a href=https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key>SSH deploy key</a></p> </li> <li> <p>Activate <code>GitHub Pages</code> repository configuration with <code>gh-pages branch</code>.</p> </li> <li> <p>Make a new commit and push to check it's working.</p> </li> </ul> <h3 id=create-mermaidjs-diagrams>Create MermaidJS diagrams<a class=headerlink href=#create-mermaidjs-diagrams title="Permanent link">⚑</a></h3> <p>Even though the Material theme <a href=https://squidfunk.github.io/mkdocs-material/reference/diagrams/#fn:2>supports mermaid diagrams</a> it's only giving it for the paid users. The <a href=https://squidfunk.github.io/mkdocs-material/insiders/#funding>funding needs to reach 5000$</a> so it's released to the general public.</p> <p>The alternative is to use the <a href=https://github.com/fralau/mkdocs-mermaid2-plugin>mkdocs-mermaid2-plugin</a> plugin, which can't be used with <code>mkdocs-minify-plugin</code> and doesn't adapt to dark mode.</p> <p>To <a href=https://github.com/fralau/mkdocs-mermaid2-plugin#installation>install it</a>:</p> <ul> <li> <p>Download the package: <code>pip install mkdocs-mermaid2-plugin</code>.</p> </li> <li> <p>Enable the plugin in <code>mkdocs.yml</code>.</p> </li> </ul> <div class=highlight><pre><span></span><code><span class=nt>plugins</span><span class=p>:</span>
<span class=w>  </span><span class=c1># Not compatible with mermaid2</span>
<span class=w>  </span><span class=c1># - minify:</span>
<span class=w>  </span><span class=c1>#    minify_html: true</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>mermaid2</span><span class=p>:</span>
<span class=w>      </span><span class=nt>arguments</span><span class=p>:</span>
<span class=w>        </span><span class=nt>securityLevel</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">loose</span>
<span class=nt>markdown_extensions</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>pymdownx.superfences</span><span class=p>:</span>
<span class=w>      </span><span class=c1># make exceptions to highlighting of code:</span>
<span class=w>      </span><span class=nt>custom_fences</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mermaid</span>
<span class=w>          </span><span class=nt>class</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mermaid</span>
<span class=w>          </span><span class=nt>format</span><span class=p>:</span><span class=w> </span><span class=kt>!%21python/name:mermaid2.fence_mermaid</span>
</code></pre></div> <p>Check the <a href=/docs/mermaidjs.md>MermaidJS</a> article to see how to create the diagrams.</p> <h2 id=plugin-development><a href=https://www.mkdocs.org/user-guide/plugins/ >Plugin development</a><a class=headerlink href=#plugin-development title="Permanent link">⚑</a></h2> <p>Like MkDocs, plugins must be written in Python. It is expected that each plugin would be distributed as a separate Python module. At a minimum, a MkDocs Plugin must consist of a <a href=https://www.mkdocs.org/user-guide/plugins/#baseplugin>BasePlugin</a> subclass and an <a href=https://www.mkdocs.org/user-guide/plugins/#entry-point>entry point</a> which points to it.</p> <p>The BasePlugin class is meant to have <code>on_&lt;event_name&gt;</code> methods that run actions on the MkDocs defined <a href=#events>events</a>.</p> <p>The same object is called at the different events, so you can save objects from one event to the other in the object attributes.</p> <p>Keep in mind that the order of execution of the plugins follows the ordering of the list of the <code>mkdocs.yml</code> file where they are defined.</p> <h3 id=interesting-objects>Interesting objects<a class=headerlink href=#interesting-objects title="Permanent link">⚑</a></h3> <h4 id=files><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/files.py#L14>Files</a><a class=headerlink href=#files title="Permanent link">⚑</a></h4> <p><code>mkdocs.structure.files.Files</code> contains a list of <a href=#file>File</a> objects under the <code>._files</code> attribute and allows you to <code>append</code> files to the collection. As well as extracting the different file types:</p> <ul> <li><code>documentation_pages</code>: Iterable of markdown page file objects.</li> <li><code>static_pages</code>: Iterable of static page file objects.</li> <li><code>media_files</code>: Iterable of all files that are not documentation or static pages.</li> <li><code>javascript_files</code>: Iterable of javascript files.</li> <li><code>css_files</code>: Iterable of css files.</li> </ul> <p>It is initialized with a list of <a href=#file><code>File</code></a> objects.</p> <h4 id=file><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/files.py#L92>File</a><a class=headerlink href=#file title="Permanent link">⚑</a></h4> <p><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/files.py#L92><code>mkdocs.structure.files.File</code></a> objects points to the source and destination locations of a file. It has the following interesting attributes:</p> <ul> <li><code>name</code>: Name of the file without the extension.</li> <li><code>src_path</code> or <code>abs_src_path</code>: Relative or absolute path to the original path, for example the markdown file.</li> <li><code>dest_path</code> or <code>abs_dest_path</code>: Relative or absolute path to the destination path, for example the html file generated from the markdown one.</li> <li><code>url</code>: Url where the file is going to be exposed.</li> </ul> <p>It is initialized with the arguments:</p> <ul> <li><code>path</code>: Must be a path that exists relative to <code>src_dir</code>.</li> <li><code>src_dir</code>: Absolute path on the local file system to the directory where the docs are.</li> <li><code>dest_dir</code>: Absolute path on the local file system to the directory where the site is going to be built.</li> <li><code>use_directory_urls</code>: If <code>False</code>, a Markdown file is mapped to an HTML file of the same name (the file extension is changed to <code>.html</code>). If True, a Markdown file is mapped to an HTML index file (<code>index.html</code>) nested in a directory using the "name" of the file in <code>path</code>. The <code>use_directory_urls</code> argument has no effect on non-Markdown files. By default MkDocs uses <code>True</code>.</li> </ul> <h4 id=navigation><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/nav.py#L11>Navigation</a><a class=headerlink href=#navigation title="Permanent link">⚑</a></h4> <p><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/nav.py#L11><code>mkdocs.structure.nav.Navigation</code></a> objects hold the information to build the navigation of the site. It has the following interesting attributes:</p> <ul> <li><code>items</code>: Nested List with full navigation of Sections, SectionPages, Pages, and Links.</li> <li><code>pages</code>: Flat List of subset of Pages in nav, in order.</li> </ul> <p>The <code>Navigation</code> object has no <code>__eq__</code> method, so when testing, instead of trying to build a similar <code>Navigation</code> object and compare them, you need to assert that the contents of the object are what you expect.</p> <h4 id=page><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/pages.py#L18>Page</a><a class=headerlink href=#page title="Permanent link">⚑</a></h4> <p><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/pages.py#L18><code>mkdocs.structure.pages.Page</code></a> models each page of the site.</p> <p>To initialize it you need the <code>title</code>, the <a href=#file><code>File</code></a> object of the page, and the MkDocs <code>config</code> object.</p> <h4 id=section><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/nav.py#L32>Section</a><a class=headerlink href=#section title="Permanent link">⚑</a></h4> <p><a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/nav.py#L32><code>mkdocs.structure.nav.Section</code></a> object models a section of the navigation of a MkDocs site.</p> <p>To initialize it you need the <code>title</code> of the section and the <code>children</code> which are the elements that belong to the section. If you don't yet know the children, pass an empty list <code>[]</code>.</p> <h4 id=sectionpage><a href=https://github.com/oprypin/mkdocs-section-index/blob/master/mkdocs_section_index/__init__.py#L11>SectionPage</a><a class=headerlink href=#sectionpage title="Permanent link">⚑</a></h4> <p><a href=https://github.com/oprypin/mkdocs-section-index/blob/master/mkdocs_section_index/__init__.py#L11><code>mkdocs_section_index.SectionPage</code></a> , part of the <a href=https://github.com/oprypin/mkdocs-section-index/ >mkdocs-section-index</a> plugin, models <a href=#section>Section</a> objects that have an associated <a href=#page>Page</a>, allowing you to have nav sections that when clicked, load the Page and not only opens the menu for the children elements.</p> <p>To initialize it you need the <code>title</code> of the section, the <a href=#file><code>File</code></a> object of the page, , the MkDocs <code>config</code> object, and the <code>children</code> which are the elements that belong to the section. If you don't yet know the children, pass an empty list <code>[]</code>.</p> <h3 id=events><a href=https://www.mkdocs.org/user-guide/plugins/#events>Events</a><a class=headerlink href=#events title="Permanent link">⚑</a></h3> <h4 id=on_config><a href=https://www.mkdocs.org/user-guide/plugins/#on_config>on_config</a><a class=headerlink href=#on_config title="Permanent link">⚑</a></h4> <p>The config event is the first event called on build and is run immediately after the user configuration is loaded and validated. Any alterations to the config should be made here.</p> <p>Parameters:</p> <ul> <li><code>config</code>: global configuration object</li> </ul> <p>Returns:</p> <ul> <li>global configuration object</li> </ul> <h4 id=on_files><a href=https://www.mkdocs.org/user-guide/plugins/#on_files>on_files</a><a class=headerlink href=#on_files title="Permanent link">⚑</a></h4> <p>The <code>files</code> event is called after the files collection is populated from the <code>docs_dir</code>. Use this event to add, remove, or alter files in the collection. Note that Page objects have not yet been associated with the file objects in the collection. Use Page Events to manipulate page specific data.</p> <p>Parameters:</p> <ul> <li><code>files</code>: global <a href=#files>files collection</a></li> <li><code>config</code>: global configuration object</li> </ul> <p>Returns:</p> <ul> <li>global <a href=#files>files collection</a></li> </ul> <h4 id=on_nav><a href=https://www.mkdocs.org/user-guide/plugins/#on_nav>on_nav</a><a class=headerlink href=#on_nav title="Permanent link">⚑</a></h4> <p>The <code>nav</code> event is called after the site navigation is created and can be used to alter the site navigation.</p> <p>Warning: Read the following section if you want to <a href=#adding-new-files>add new files</a>.</p> <p>Parameters:</p> <ul> <li><code>nav</code>: global <a href=#navigation>navigation object</a>.</li> <li><code>config</code>: global configuration object.</li> <li><code>files</code>: global <a href=#files>files collection</a>.</li> </ul> <p>Returns:</p> <ul> <li>global navigation object</li> </ul> <h3 id=adding-new-files>Adding new files<a class=headerlink href=#adding-new-files title="Permanent link">⚑</a></h3> <p>Note: "TL;DR: Add them in the <code>on_config</code> event."</p> <p>To add new files to the repository you will need two phases:</p> <ul> <li>Create the markdown article pages.</li> <li>Add them to the navigation.</li> </ul> <p>My first idea as a MkDocs user, and newborn plugin developer was to add the navigation items to the <code>nav</code> key in the <code>config</code> object, as it's more easy to add items to a dictionary I'm used to work with than to dive into the code and understand how MkDocs creates the navigation. As I understood from the docs, the files should be created in the <code>on_files</code> event. the problem with this approach is that the only event that allows you to change the <code>config</code> is the <code>on_config</code> event, which is before the <code>on_files</code> one, so you can't build the navigation this way after you've created the files.</p> <p>Next idea was to add the items in the <code>on_nav</code> event, that means creating yourself the <a href=#section><code>Section</code></a>, <a href=#page><code>Pages</code></a>, <a href=#sectionpage><code>SectionPages</code></a> or <code>Link</code> objects and append them to the <code>nav.items</code>. <a href=https://github.com/mkdocs/mkdocs/issues/2324>The problem</a> is that MkDocs initializes and processes the <code>Navigation</code> object in the <a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/structure/nav.py#L99><code>get_navigation</code></a> function. If you want to add items with a plugin in the <code>on_nav</code> event, you need to manually run all the post processing functions such as building the <code>pages</code> attribute, by running the <code>_get_by_type</code>, <code>_add_previous_and_next_links</code> or <code>_add_parent_links</code> yourself. Additionally, when building the site you'll get the <code>The following pages exist in the docs directory, but are not included in the "nav" configuration</code> error, because that check is done <em>before</em> all plugins change the navigation in the <code>on_nav</code> object.</p> <p>The last approach is to build the files and tweak the navigation in the <code>on_config</code> event. This approach has the next advantages:</p> <ul> <li>You need less knowledge of how MkDocs works.</li> <li>You don't need to create the <code>File</code> or <code>Files</code> objects.</li> <li>You don't need to create the <code>Page</code>, <code>Section</code>, <code>SectionPage</code> objects.</li> <li>More robust as you rely on existent MkDocs functionality.</li> </ul> <h2 id=testing>Testing<a class=headerlink href=#testing title="Permanent link">⚑</a></h2> <p>I haven't found any official documentation on how to test MkDocs plugins, in the <a href=https://github.com/mkdocs/mkdocs/issues/1528>issues</a> they suggest you look at how they test it in the <a href=https://github.com/mkdocs/mkdocs/blob/master/mkdocs/tests/search_tests.py>search plugin</a>. I've looked at other plugins such as <a href=https://github.com/andyoakley/mkdocs-blog>mkdocs_blog</a> and used the next way to test <a href=https://github.com/lyz-code/mkdocs-newsletter>mkdocs-newsletter</a>.</p> <p>I see the plugin definition as an entrypoint to the functionality of our program, that's why I feel the definition should be in <code>src/mkdocs_newsletter/entrypoints/mkdocs_plugin.py</code>. As any entrypoint, the best way to test them are in end-to-end tests.</p> <p>You need to have a <a href=https://github.com/lyz-code/mkdocs-newsletter/tree/master/tests/assets/test_data>working test site</a> in <code>tests/assets/test_data</code>, with it's <code>mkdocs.yml</code> file that loads your plugin and some fake articles.</p> <p>To prepare the test we can define the next <a href=/docs/pytest.md#fixtures>fixture</a> that prepares the building of the site:</p> <p>File: <code>tests/conftest.py</code>:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>
<span class=kn>import</span> <span class=nn>shutil</span>

<span class=kn>from</span> <span class=nn>mkdocs</span> <span class=kn>import</span> <span class=n>config</span>
<span class=kn>from</span> <span class=nn>mkdocs.config.base</span> <span class=kn>import</span> <span class=n>Config</span>


<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;config&quot;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>config_</span><span class=p>(</span><span class=n>tmp_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Config</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Load the mkdocs configuration.&quot;&quot;&quot;</span>
    <span class=n>repo_path</span> <span class=o>=</span> <span class=n>tmp_path</span> <span class=o>/</span> <span class=s2>&quot;test_data&quot;</span>
    <span class=n>shutil</span><span class=o>.</span><span class=n>copytree</span><span class=p>(</span><span class=s2>&quot;tests/assets/test_data&quot;</span><span class=p>,</span> <span class=n>repo_path</span><span class=p>)</span>
    <span class=n>mkdocs_config</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>load_config</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>repo_path</span><span class=p>,</span> <span class=s2>&quot;mkdocs.yml&quot;</span><span class=p>))</span>
    <span class=n>mkdocs_config</span><span class=p>[</span><span class=s2>&quot;site_dir&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>repo_path</span><span class=p>,</span> <span class=s2>&quot;site&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>mkdocs_config</span>
</code></pre></div> <p>It does the next steps:</p> <ul> <li>Copy the fake MkDocs site to a temporal directory</li> <li>Prepare the MkDocs <code>Config</code> object to build the site.</li> </ul> <p>Now we can use it in the e2e tests:</p> <p>File: <code>tests/e2e/test_plugin.py</code>:</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>test_plugin_builds_newsletters</span><span class=p>(</span><span class=n>full_repo</span><span class=p>:</span> <span class=n>Repo</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
    <span class=n>build</span><span class=o>.</span><span class=n>build</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>  <span class=c1># act</span>

    <span class=n>newsletter_path</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>full_repo</span><span class=o>.</span><span class=n>working_dir</span><span class=si>}</span><span class=s2>/site/newsletter/2021_02/index.html&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>newsletter_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>newsletter_file</span><span class=p>:</span>
        <span class=n>newsletter</span> <span class=o>=</span> <span class=n>newsletter_file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
    <span class=k>assert</span> <span class=s2>&quot;&lt;title&gt;February of 2021 - The Blue Book&lt;/title&gt;&quot;</span> <span class=ow>in</span> <span class=n>newsletter</span>
</code></pre></div> <p>That test is meant to ensure that our plugin works with the MkDocs ecosystem, so the assertions should be done against the created html files.</p> <p>If your functionality can't be covered by the happy path of the end-to-end test, it's better to create unit tests to make sure that they work as you want.</p> <p>You can see a full example <a href=https://github.com/lyz-code/mkdocs-newsletter/tree/master/tests>here</a>.</p> <h2 id=issues>Issues<a class=headerlink href=#issues title="Permanent link">⚑</a></h2> <p>Once they are closed:</p> <ul> <li><a href=https://github.com/mkdocs/mkdocs/issues/2794>Mkdocs Deprecation warning</a>, once it's solved remove the warning filter on mkdocs-newsletter <code>pyproject.toml</code>.</li> <li><a href=https://github.com/squidfunk/mkdocs-material/issues/3695>Mkdocs-Material Deprecation warning</a>, once it's solved remove the warning filter on mkdocs-newsletter <code>pyproject.toml</code>.</li> </ul> <h2 id=references>References<a class=headerlink href=#references title="Permanent link">⚑</a></h2> <ul> <li><a href=https://github.com/mkdocs/mkdocs/ >Git</a></li> <li><a href=https://www.mkdocs.org/ >Homepage</a>.</li> <li><a href=https://squidfunk.github.io/mkdocs-material/getting-started/ >Material theme configuration guide</a></li> </ul> <h3 id=plugin-development_1>Plugin development<a class=headerlink href=#plugin-development_1 title="Permanent link">⚑</a></h3> <ul> <li><a href=https://www.mkdocs.org/user-guide/plugins/ >User guide</a></li> <li><a href=https://www.mkdocs.org/user-guide/plugins/#events>List of events</a></li> <li><a href=https://github.com/andyoakley/mkdocs-blog/tree/master/tests>Plugin testing example</a></li> </ul> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-03-23T22:40:13+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-03-23</span> </small> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/nullniverse target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://nullniverse.github.io/memo/newsletter/0_newsletter_index target=_blank rel=noopener title=nullniverse.github.io class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.footer", "navigation.instant", "navigation.top", "content.code.annotate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.efa0ade1.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>